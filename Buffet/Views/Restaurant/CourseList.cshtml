@model IEnumerable<Buffet.ViewModels.Pdvm>
@{
    var stext = ViewBag.theText;
}
@if (ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger" role="alert">
        @ViewBag.ErrorMesage;
    </div>
}

<h1>Product KuShop KUSRC</h1>
<div class="container pt-5 mt-5">
    <div class="row">
        <div class="col-sm-6 col-md-8 col-lg-9">
            <a class="btn btn-primary" asp-action="Index">
                <i class=""></i>Restaurant
            </a>
            <a class="btn btn-primary" asp-action="CourseList">
                <i class=""></i>Course
            </a>
            <a class="btn btn-primary" asp-action="SetList">
                <i class=""></i>Set
            </a>
            <a class="btn btn-primary" asp-action="TypeList">
                <i class=""></i>Type
            </a>
        </div>
    </div>
</div>
<div class="container pt-3 mt-5">
    <form asp-controller="Restaurant" asp-action="Index">
        <div class="row">
            <div class="col-sm-6 col-md-8 col-lg-9">
                <a class="btn btn-primary" asp-action="Create">
                    <i class="bg-info bi-plus-lg"></i>เพิ่มร้านอาหาร
                </a>
                <a class="btn btn-primary" asp-action="CreateCourse">
                    <i class="bg-info bi-plus-lg"></i>เพิ่มCourse
                </a>
                <a class="btn btn-primary" asp-action="CreateTablesets">
                    <i class="bg-info bi-plus-lg"></i>เพิ่มชุดโต๊ะ
                </a>
                <a class="btn btn-primary" asp-action="CreateResType">
                    <i class="bg-info bi-plus-lg"></i>เพิ่มประเภทของร้าน
                </a>
            </div>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <div class="input-group">
                    <span class="input-group-text">ค้นหา</span>
                    <input type="text" name="stext" class="form-control" value="@stext" />
                    <button type="submit" class="btn btn-secondary">OK</button>
                </div>
            </div>
        </div>


    </form>
    <table class="table">
        <tr>

            <th>รหัสCourse</th>
            <th>รหัสร้านอาหาร</th>
            <th>ชื่อCourse</th>
            <th>ราคา</th>
            <th>ประเภท</th>
            <th>รายละเอียด</th>

        </tr>

        @{
            //กำหนดค่าเพื่อให้นับค่าแสดงลำดับ
            var i = 0;
        }
        @foreach (var item in Model)
        {
            i++;
            //Razor page ใข้เครื่องหมาย @ หน้าตัวแปรที่ต้องการให้แสดงผล
            <tr>

                <td>@item.CourseId</td>
                <td>@item.ResId</td>
                <td>@item.CourseName</td>
                <td>@item.CoursePrice</td>
                <td>@item.CourseType</td>
                <td>@item.CourseDtl</td>

                <td>
                    <a asp-action="EditCourse" asp-route-id="@item.CourseId">Edit</a>
                </td>
                <td class="text-center">
                    <a asp-action="DeleteCourse" asp-route-id="@item.CourseId">Delete</a>
                </td>
            </tr>

        }
    </table>
</div>
